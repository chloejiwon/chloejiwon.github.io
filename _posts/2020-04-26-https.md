---
title:  "HTTP / HTTPS / SSL / REST ??"
excerpt: "~ κΈ°λ³Έμ„ μ •ν™•ν μ•μ ~ "

categories:
  - Network
tags:
  - Network, HTTPS
last_modified_at: 2020-04-20T17:42:00-05:00
---

## HTTP

HTTPλ” Hypertext Transfer Protocolμ μ•½μ
HyptertextμΈ HTMLμ„ μ „μ†΅ν•κΈ° μ„ν• ν†µμ‹  κ·μ•½μ„ μλ―Έν•λ‹¤.


## HTTPS

HTTP + S : **Over Secure Socket Layer**μ μ•½μ
λ³΄μ•μ΄ κ°•ν™”λ HTTPλΌκ³  λ³Ό μ μλ”λ°, 
HTTPλ” μ•”νΈν™”λμ§€ μ•μ€ λ°©λ²•μΌλ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° λ•λ¬Έμ— μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£Όκ³  λ°›λ” λ©”μ‹μ§€κ°€ μ•„μ£Ό vulnerable ν•κΈ° λ•λ¬Έμ— λ³΄μ•μ„ κ°•ν™”ν• HTTPS κ°€ λ‚μ™”λ‹¤! 
μλ¥Ό λ“¤μ–΄, id / pw κ°™μ€ λ―Όκ°μ •λ³΄λ¥Ό λ…Έμ¶ν•λ©΄ μ•λκΈ° λ•λ¬Έμ΄λ‹¤.


## SSL / TLS

SSL κ³Ό TLS λ” μ„Έμ… κ³„μΈµμ— ν¬ν•¨λλ” ν”„λ΅ν† μ½μ΄λ‹¤. 
HTTPSλ” SSL μ„μ—μ„ λμ•„κ°€λ” μ„λΉ„μ¤ μ¤‘ ν•λ‚ μΈ κ²ƒ.
κ·Έλμ„ HTTPκ°€ SSL ν”„λ΅ν† μ½ μ„μ—μ„ λ™μ‘ν•λ‹¤λ©΄ HTTPSλ¥Ό μ΄μ©ν•λ‹¤κ³  ν•  μ μλ‹¤.


### SSL λ™μ‘ λ°©λ²•

SSL λ™μ‘ λ°©λ²•μ„ μ•κΈ° μ „μ—, λ€μΉ­ν‚¤μ™€ κ³µκ°ν‚¤μ κ°λ…μ„ μ•μ•„μ•Ό ν•λ‹¤. μΆ€ μ‹ κΈ°ν•κ³  μ¬λ°μ.. 

* **λ€μΉ­ν‚¤**

aλΌλ” valueλ¥Ό keyλ¥Ό κ°€μ§€κ³  μ•”νΈν™”ν•μ—¬ μ„λ²„μ— μ „λ‹¬ν•κ³ , μ„λ²„λ” λ™μΌν• keyλ¥Ό κ°€μ§€κ³  μ•”νΈν™”λ valueλ¥Ό λ³µνΈν™”ν•λ‹¤. 
λ™μ‘ λ°©μ‹μ„ λ³΄λ©΄, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ λ™μΌν• keyλ¥Ό κ°€μ§€κ³  μ•”νΈν™”, λ³µνΈν™”ν•λ”λ° μ΄ ν‚¤κ°€ **λ€μΉ­ν‚¤**μΈ κ²ƒμ΄λ‹¤.
ν•μ§€λ§, λ„κ°€ λ΄λ„ μ΄ keyλ§ μ•λ©΄ λ¨λ“  μ•”νΈν™”λ μ •λ³΄λ¥Ό λ³µνΈν™”ν•μ—¬ μ‚¬μ©ν•  μ μκΈ° λ•λ¬Έμ— λ“±μ¥ν•κ²ƒμ΄ **κ³µκ°ν‚¤**μ΄λ‹¤.

* **κ³µκ°ν‚¤**

keyκ°€ λ‘ κ°κ°€ μλ‹¤κ³  ν•μ. A, B. 
Aν‚¤λ΅ μ•”νΈν™”ν•λ©΄ Bν‚¤λ΅ λ³µνΈν™”ν•  μ μκ³ , vice versa. μ΄ λ°©μ‹μ΄ κ³µκ°ν‚¤ λ°©μ‹μ΄λ‹¤.
A,B ν‚¤ μ¤‘ ν•λ‚λ¥Ό private key(κ°μΈν‚¤, λΉ„λ°€ν‚¤)λΌκ³  ν•κ³ , λ‚λ¨Έμ§€ ν•λ‚λ¥Ό public key(κ³µκ°ν‚¤)λΌκ³  ν•λ‹¤.
private keyλ” λ³ΈμΈλ§! κ°€μ§€κ³  μκ³ , public keyλ” νƒ€μΈμ—κ² μ κ³µν•λ‹¤.

* **μΈμ¦μ„**

κ·Έλ¬λ©΄ μΈμ¦μ„λ” λ¬΄μ–΄λƒ! μΈμ¦μ„μ κΈ°λ¥μ€ `ν΄λΌμ΄μ–ΈνΈκ°€ μ ‘μ†ν• μ„λ²„κ°€ μ‹ λΆ°ν•  μ μλ” μ„λ²„μ„μ„ λ³΄μ¥ν•κ³ , SSLν†µμ‹ μ— μ‚¬μ©ν•  κ³µκ°ν‚¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ κ³µν•λ‹¤.`μ΄λ‹¤. SSLμ„ ν†µν•΄μ„ μ•”νΈν™”λ ν†µμ‹ μ„ μ κ³µν•λ ¤λ” μ„λΉ„μ¤λ” CA(certiciate authority)λ¥Ό ν†µν•΄μ„ μΈμ¦μ„λ¥Ό κµ¬μ…ν•΄μ•Ό ν•λ‹¤. 
SSL μΈμ¦μ„λ” `μ„λΉ„μ¤μ μ •λ³΄, μ„λ²„μΈ΅ κ³µκ°ν‚¤` μ •λ³΄λ¥Ό λ‹΄κ³  μλ‹¤. κ·Έλ¦¬κ³  μ΄ λ‚΄μ©μ΄ CAμ **private key**μ— μν•΄μ„ μ•”νΈν™”λλ‹¤. κ·Έλμ„ μ λ€ CAμ λΉ„κ³µκ°ν‚¤λ” μ μ¶λλ©΄ μ•λλ‹¤. κ·ΈλΌ λΈλΌμ°μ €λ” μ–΄λ–»κ² CAμ λΉ„κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• SSLμΈμ¦μ„λ¥Ό λ³µνΈν™”ν•λλƒ? CAμ λ¦¬μ¤νΈλ¥Ό μ•κ³  μκΈ° λ•λ¬Έμ΄λ‹¤. κ³µμΈλ CAλ” λΈλΌμ°μ €κ°€ λ―Έλ¦¬ μ•κ³  μλ” CAμ λ¦¬μ¤νΈμ— ν¬ν•¨λμ–΄ μλ‹¤. κ·Έλ¦¬κ³  λ‹Ήμ—°ν κ° CAμ κ³µκ°ν‚¤λ„ μ•κ³  μκ² μ§€. 
κ·Έλ¬λ©΄ μ–΄λ–»κ² μΈμ¦μ„κ°€ μ„λ²„μ μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•λλƒ?
SSL ν†µμ‹ κ³Όμ •μ€ Handshake -> μ „μ†΅(μ„Έμ…) -> Session μΆ…λ£λ΅ κµ¬μ„±λλ‹¤. μ²μμ— clientμ™€ serverκ°€ μ„λ΅ μΈμ‚¬λ¶€ν„° ν•λ”λ°, handshake π¤λΌ λ¶€λ¥Έλ‹¤. μ΄λ• λ­ ν• κΉ? 
1. Client Hello (ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ†ν•λ‹¤.)
  - ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„ μƒμ„±ν• λλ¤ λ°μ΄ν„°, ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ›ν•λ” μ•”νΈν™” λ°©μ‹λ“¤, μ„Έμ… μ•„μ΄λ””
2. Server Hello (Client helloμ— λ€ν• μ‘λ‹µ)
  - μ„λ²„μΈ΅μ—μ„ μƒμ„±ν• λλ¤ λ°μ΄ν„°, μ„λ²„κ°€ μ„ νƒν• ν΄λΌμ΄μ–ΈνΈμ μ•”νΈν™”λ°©μ‹, **μΈμ¦μ„**
3. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μΈμ¦μ„κ°€ CAμ— μν•΄ λ°κΈ‰λ !! μ•μ „ν•!! κ²ƒμ΄ λ§λ”μ§€ λ³ΈμΈμ λ¦¬μ¤νΈλ¥Ό μ«™ ν™•μΈν•λ‹¤. CA λ¦¬μ¤νΈμ— μΈμ¦μ„ μ—†λ‹¤λ©΄? μ‚¬μ©μμ—κ² κ²½κ³  λ©”μ‹μ§€ μ¶λ ¥! CA λ¦¬μ¤νΈμ— μλ” μ•”νΈλ΅ μΈν•΄ λ³µνΈν™” μ„±κ³µν–‡λ‹¤λ©΄, CAμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ λ¬Έμ„μ„μ΄ λ³΄μ¦λμ–΄ μ„λ²„λ¥Ό λ―Ώμ„ μ μκ² λ κ²ƒμ΄λ‹¤. π€(μ‹ λΆ°) κ·Έλ¦¬κ³  ν΄λΌμ΄μ–ΈνΈμ—μ„ μƒμ„±ν• λλ¤λ°μ΄ν„°μ™€ μ„λ²„κ°€ μƒμ„±ν• λλ¤λ°μ΄ν„°λ¥Ό μ μ ν μ΅°ν•©ν•μ—¬ pre mater secretμ΄λΌλ” ν‚¤λ¥Ό μƒμ„±ν•λ‹¤. κ·Έλ¦¬κ³  μ΄ pre master keyλ¥Ό μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•΄μ„ μ„λ²„μ—κ² μ „μ†΅ν•λ‹¤. κ·ΈλΌ μ„λ²„λ§ λ³µνΈν™” ν•  μ μκ² λλ‹κΉ. π¤“ (λ‘λ‘ν•΄..)
4. μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈκ°€ μ „μ†΅ν• pre master secretμ„ λΉ„κ³µκ°ν‚¤λ΅ λ³µνΈν™”ν–λ‹¤. κ·ΈλΌμΌλ΅μ¨ λ‘μ΄ pre master secret μ„ κ³µμ ν•κ² λ κ²ƒμ΄λ‹¤! π‘π» λ‘λ‹¤ μ΄ κ°’μ„ master secretκ°’μΌλ΅ λ§λ“¤κ³ , μ΄κ±Έλ΅ session keyλ¥Ό μƒμ„±ν•λ‹¤. μ΄ session keyλ¥Ό μ΄μ©ν•΄μ„ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μ£Όκ³  λ°›κ² λλ‹¤.
5. ν•Έλ“μ…°μ΄ν¬ λ‹¨κ³„ λλ‚ κ±Έ μ„λ΅μ—κ² μ•λ¦Ό.

μ•μΌλ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£Όκ³ λ°›λ” λ°μ΄ν„°λ” session key λ΅ μ•”νΈν™”λλ‹¤. κ·Όλ° μ™ κ·Έλƒ¥ κ³µκ°ν‚¤ μ‚¬μ©ν•μ§€, session keyλ΅ λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ μ•”νΈν™”ν• κΉ? κ³µκ°ν‚¤λ” μ»΄ν“¨ν…νμ›λ¥Ό λ§μ΄ μ΅μ•„λ¨ΉκΈ° λ•λ¬Έ...

λ°μ΄ν„° λ‹¤ μ „μ†΅ν•λ©΄ μ„λ΅ SSL ν†µμ‹ μ΄ λλ‚¬μμ„ μ•λ¦¬κ³  session keyλ¥Ό νκΈ°ν•λ‹¤.

## Reference


https://www.youtube.com/watch?v=0cfUVrQW_yg
https://opentutorials.org/course/228/4894